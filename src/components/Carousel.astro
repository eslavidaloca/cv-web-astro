---
import "@styles/components/Carousel.scss";
import { type CarouselList } from "@/interfaces/CarouselList.ts";
import CarouselItem from "./CarouselItem.astro";

interface Props {
    itemsList: CarouselList[];
}

let { itemsList } = Astro.props;
---

<div class="carousel w-full">
    <div class="carousel-slide">
        {
            itemsList.map((item) => (
                <CarouselItem title={item.title} iconImg={item.iconImg}></CarouselItem>
            ))
        }
    </div>
</div>

<script is:inline>
    // TODO: Try to find a better way than this
    const copy = document.querySelector(".carousel-slide").cloneNode(true);
    const copy2 = document.querySelector(".carousel-slide").cloneNode(true);
    document.querySelector(".carousel").appendChild(copy);
    document.querySelector(".carousel").appendChild(copy2);
</script>